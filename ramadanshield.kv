#:kivy 2.1.0
#:import get_color_from_hex kivy.utils.get_color_from_hex

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [25, 40, 25, 25]
        spacing: 20
        canvas.before:
            Color:
                rgba: get_color_from_hex('#1a2634')
            Rectangle:
                pos: self.pos
                size: self.size

        # Ø§Ù„Ù‡ÙŠØ¯Ø± Ù…Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
        BoxLayout:
            size_hint_y: 0.15
            orientation: 'vertical'
            spacing: 5
            
            Label:
                text: 'ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ'
                font_size: '28sp'
                color: get_color_from_hex('#f1c40f')
                bold: True
            
            Label:
                text: 'Ø¯Ø±Ø¹ Ø±Ù…Ø¶Ø§Ù† - Ø­Ù…Ø§ÙŠØ© Ù†Ù‚ÙŠØ©'
                font_size: '14sp'
                color: get_color_from_hex('#95a5a6')

        # Ø§Ù„Ø¯Ø±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù…Ø¹ Ø§Ù„Ø­Ø§Ù„Ø©
        BoxLayout:
            size_hint_y: 0.35
            orientation: 'vertical'
            spacing: 10
            
            Widget:
                size_hint_y: 0.1
            
            Label:
                text: 'ğŸ›¡ï¸'
                font_size: '120sp'
                color: get_color_from_hex('#f39c12') if root.is_protected else get_color_from_hex('#7f8c8d')
            
            Label:
                text: root.vpn_status
                font_size: '24sp'
                color: get_color_from_hex(root.status_color)
                bold: True
            
            Label:
                text: f'Ù†ÙˆØ¹ Ø§Ù„Ø­Ù…Ø§ÙŠØ©: {root.dns_server}'
                font_size: '14sp'
                color: get_color_from_hex('#bdc3c7')
                shorten: True
                shorten_from: 'right'

        # Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        Button:
            id: toggle_button
            text: 'ğŸ”´ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ù…Ø§ÙŠØ©' if root.is_protected else 'ğŸŸ¢ Ø¨Ø¯Ø¡ Ø§Ù„Ø­Ù…Ø§ÙŠØ©'
            size_hint_y: 0.15
            font_size: '22sp'
            bold: True
            background_color: get_color_from_hex('#c0392b') if root.is_protected else get_color_from_hex('#27ae60')
            color: 1, 1, 1, 1
            on_press: root.toggle_vpn()
            canvas.before:
                Color:
                    rgba: get_color_from_hex('#2c3e50') if self.state == 'normal' else get_color_from_hex('#34495e')
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [25,]

        # Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
        BoxLayout:
            size_hint_y: 0.25
            spacing: 15
            
            Button:
                text: 'âš™ï¸ DNS'
                font_size: '18sp'
                background_color: get_color_from_hex('#3498db')
                color: 1, 1, 1, 1
                on_press: root.go_to_dns_settings()
                canvas.before:
                    Color:
                        rgba: get_color_from_hex('#2980b9')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [15,]
            
            Button:
                text: 'ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª'
                font_size: '18sp'
                background_color: get_color_from_hex('#9b59b6')
                color: 1, 1, 1, 1
                on_press: root.go_to_stats()
                canvas.before:
                    Color:
                        rgba: get_color_from_hex('#8e44ad')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [15,]

        # Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
        BoxLayout:
            size_hint_y: 0.1
            orientation: 'vertical'
            spacing: 5
            
            Label:
                text: 'Ø­Ø¬Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø¥Ø¨Ø§Ø­ÙŠØ© ÙˆØ§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª'
                font_size: '14sp'
                color: get_color_from_hex('#ecf0f1')
                halign: 'center'
            
            Label:
                text: 'Ø¨Ø¯ÙˆÙ† Ø±ÙˆØª â€¢ Ø¢Ù…Ù† Ù¡Ù Ù Ùª'
                font_size: '12sp'
                color: get_color_from_hex('#7f8c8d')
                halign: 'center'

<DNSScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [25, 40, 25, 25]
        spacing: 20
        canvas.before:
            Color:
                rgba: get_color_from_hex('#1a2634')
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: 'âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª DNS'
            font_size: '32sp'
            color: get_color_from_hex('#f1c40f')
            bold: True
            size_hint_y: 0.15

        ScrollView:
            do_scroll_y: True
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 15
                padding: [10, 10]

                Button:
                    text: 'ğŸš¸ DNS Ø¹Ø§Ø¦Ù„ÙŠ (Ø­Ø¬Ø¨ Ø§Ù„Ø¥Ø¨Ø§Ø­ÙŠØ§Øª)'
                    size_hint_y: None
                    height: 80
                    font_size: '18sp'
                    background_color: get_color_from_hex('#16a085')
                    color: 1, 1, 1, 1
                    on_press: root.select_dns('family')
                    canvas.before:
                        Color:
                            rgba: get_color_from_hex('#1abc9c')
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

                Button:
                    text: 'ğŸš« DNS Ù…Ø¹ Ø­Ø¬Ø¨ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª'
                    size_hint_y: None
                    height: 80
                    font_size: '18sp'
                    background_color: get_color_from_hex('#2980b9')
                    color: 1, 1, 1, 1
                    on_press: root.select_dns('adblock')
                    canvas.before:
                        Color:
                            rgba: get_color_from_hex('#3498db')
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

                Button:
                    text: 'ğŸ”§ DNS Ù…Ø®ØµØµ (Ù‚Ø±ÙŠØ¨Ø§Ù‹)'
                    size_hint_y: None
                    height: 80
                    font_size: '18sp'
                    background_color: get_color_from_hex('#7f8c8d')
                    color: 1, 1, 1, 1
                    disabled: True
                    on_press: root.select_dns('custom')
                    canvas.before:
                        Color:
                            rgba: get_color_from_hex('#95a5a6')
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

        Button:
            text: 'ğŸ”™ Ø§Ù„Ø¹ÙˆØ¯Ø©'
            size_hint_y: 0.1
            font_size: '20sp'
            background_color: get_color_from_hex('#e67e22')
            color: 1, 1, 1, 1
            on_press: root.go_back()
            canvas.before:
                Color:
                    rgba: get_color_from_hex('#d35400')
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [15,]

<StatsScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: [25, 40, 25, 25]
        spacing: 20
        canvas.before:
            Color:
                rgba: get_color_from_hex('#1a2634')
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: 'ğŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ù…Ø§ÙŠØ©'
            font_size: '32sp'
            color: get_color_from_hex('#f1c40f')
            bold: True
            size_hint_y: 0.15

        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            size_hint_y: 0.6

            Label:
                id: sent_label
                text: 'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø©: 0 B'
                font_size: '20sp'
                color: get_color_from_hex('#ecf0f1')
                halign: 'center'

            Label:
                id: received_label
                text: 'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©: 0 B'
                font_size: '20sp'
                color: get_color_from_hex('#ecf0f1')
                halign: 'center'

            Label:
                id: blocked_label
                text: 'Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨Ø©: 0'
                font_size: '20sp'
                color: get_color_from_hex('#e74c3c')
                halign: 'center'
                bold: True

        BoxLayout:
            size_hint_y: 0.15
            spacing: 15

            Button:
                text: 'ğŸ”„ ØªØ­Ø¯ÙŠØ«'
                font_size: '18sp'
                background_color: get_color_from_hex('#27ae60')
                color: 1, 1, 1, 1
                on_press: root.update_stats()
                canvas.before:
                    Color:
                        rgba: get_color_from_hex('#2ecc71')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [15,]

            Button:
                text: 'ğŸ”™ Ø±Ø¬ÙˆØ¹'
                font_size: '18sp'
                background_color: get_color_from_hex('#e67e22')
                color: 1, 1, 1, 1
                on_press: root.go_back()
                canvas.before:
                    Color:
                        rgba: get_color_from_hex('#d35400')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [15,]

        Label:
            text: 'ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒÙ„ Ø«Ø§Ù†ÙŠØªÙŠÙ†'
            font_size: '12sp'
            color: get_color_from_hex('#7f8c8d')
            size_hint_y: 0.1
